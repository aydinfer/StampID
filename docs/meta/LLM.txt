# Expo Starter - Production Ready Template

> LLM-optimized project documentation for AI assistants

## Project Overview

A production-ready Expo starter template using only official Expo packages and best practices. Built for rapid mobile app development with TypeScript, NativeWind (Tailwind CSS), Supabase backend, and RevenueCat monetization.

## Tech Stack

**Core Framework:**
- Expo SDK 54 (latest stable)
- React Native 0.81.5
- TypeScript (strict mode)
- Node.js 18+

**UI & Styling:**
- NativeWind v4 (Tailwind CSS for React Native)
- Tailwind CSS v3.4.17 (peer dependency)
- React Native Reanimated v4 (animations)
- expo-blur (native blur effects)

**Backend & Data:**
- Supabase (auth, database, storage)
- React Query v5 (data fetching)
- Zustand (global state)

**Monetization:**
- RevenueCat (in-app purchases)

**Routing:**
- Expo Router v6 (file-based routing)

## Directory Structure

```
clean-build/
├── app/                    # Expo Router screens (file-based routing)
│   ├── (tabs)/            # Tab navigation group
│   │   ├── _layout.tsx    # Tab navigator config
│   │   ├── index.tsx      # Home screen
│   │   └── settings.tsx   # Settings screen
│   ├── (auth)/            # Auth screens group
│   │   └── _layout.tsx    # Auth layout
│   └── _layout.tsx        # Root layout with providers
├── lib/                   # Business logic (separated from UI)
│   ├── supabase/          # Supabase client config
│   │   └── client.ts      # Configured Supabase instance
│   ├── hooks/             # Custom React hooks
│   │   ├── useAuth.ts     # Auth hook (sign in, sign up, sign out)
│   │   ├── useSubscription.ts  # RevenueCat hook
│   │   └── useData.ts     # React Query data hooks
│   ├── store/             # Zustand stores
│   │   └── appStore.ts    # Global app state
│   └── utils/             # Utility functions
│       ├── helpers.ts     # Common helpers
│       ├── api.ts         # HTTP client
│       └── colors.ts      # Design tokens for React Native
├── components/            # Reusable UI components
├── assets/                # Images, fonts, icons
├── docs/                  # Comprehensive documentation
├── .env.example           # Environment variables template
├── tailwind.config.js     # Design system (single source of truth)
├── metro.config.js        # Metro bundler with NativeWind plugin
├── babel.config.js        # Babel with NativeWind + Reanimated
├── tsconfig.json          # TypeScript config with path aliases
└── global.css             # Tailwind directives
```

## Key Design Decisions

### 1. NativeWind vs Hardcoded Styles
**Decision:** Use NativeWind (Tailwind CSS) for all styling
**Rationale:**
- Single source of truth for design tokens
- Consistent spacing/color scales
- Dark mode built-in
- No manual style objects

**Pattern:**
```tsx
// ✅ Preferred - NativeWind classes
<View className="bg-primary-500 p-4 rounded-xl dark:bg-primary-700">
  <Text className="text-white font-bold">Hello</Text>
</View>

// ⚠️ For React Native components only - exported tokens
import { colors } from '@/lib/utils/colors';
<Tabs screenOptions={{ tabBarActiveTintColor: colors.primary[600] }} />
```

### 2. Design Token System
**File:** `tailwind.config.js` (source of truth)
**Exported to:** `lib/utils/colors.ts` (for React Native components)

**Why two locations?**
- Tailwind config: Used by NativeWind for className styling
- colors.ts: Used by React Native components that don't support className (Tab Navigator, StatusBar, etc.)

**Color scales:** 50 (lightest) to 950 (darkest)
- Primary: Blue (#3b82f6)
- Success: Green (#10b981)
- Warning: Yellow (#f59e0b)
- Error: Red (#ef4444)
- Gray: Neutral (#6b7280)

### 3. State Management
**Server State:** React Query (useQuery, useMutation)
**Client State:** Zustand (theme, onboarding, UI state)

**Why separated?**
- React Query: Handles caching, refetching, loading states
- Zustand: Lightweight, no boilerplate

### 4. File-Based Routing (Expo Router)
**Pattern:**
- Files = Routes (`profile.tsx` → `/profile`)
- Folders with `()` = Route groups (don't add to URL)
- `_layout.tsx` = Shared layout for nested routes

**Example:**
```
app/
├── (tabs)/              # Group (not in URL)
│   ├── _layout.tsx     # Tab navigator
│   ├── index.tsx       # /
│   └── settings.tsx    # /settings
└── (auth)/             # Group (not in URL)
    ├── sign-in.tsx     # /sign-in
    └── sign-up.tsx     # /sign-up
```

## Installation Commands

**All packages installed via official Expo commands:**

```bash
# Core
npx create-expo-app@latest clean-build --template expo-template-blank-typescript

# Routing
npx expo install expo-router react-native-safe-area-context react-native-screens expo-linking expo-constants expo-status-bar

# Styling
npx expo install nativewind
npm install --save-dev tailwindcss@3.4.17

# Animations
npx expo install react-native-reanimated react-native-gesture-handler

# Blur
npx expo install expo-blur

# Backend
npx expo install @supabase/supabase-js @react-native-async-storage/async-storage react-native-url-polyfill

# Data fetching
npm install @tanstack/react-query

# State
npm install zustand

# Monetization
npx expo install react-native-purchases
```

## Configuration Files

### babel.config.js
```javascript
module.exports = function(api) {
  api.cache(true);
  return {
    presets: [
      ["babel-preset-expo", { jsxImportSource: "nativewind" }],
      "nativewind/babel",
    ],
    plugins: [
      'react-native-reanimated/plugin', // Must be last!
    ],
  };
};
```

### metro.config.js
```javascript
const { getDefaultConfig } = require('expo/metro-config');
const { withNativeWind } = require('nativewind/metro');

const config = getDefaultConfig(__dirname);
module.exports = withNativeWind(config, { input: './global.css' });
```

### tsconfig.json
```json
{
  "extends": "expo/tsconfig.base",
  "compilerOptions": {
    "strict": true,
    "paths": {
      "@/*": ["./*"]
    }
  }
}
```

## Environment Variables

Required in `.env`:
```env
EXPO_PUBLIC_SUPABASE_URL=https://xxxxx.supabase.co
EXPO_PUBLIC_SUPABASE_ANON_KEY=your-anon-key
EXPO_PUBLIC_REVENUECAT_API_KEY_IOS=your-ios-key
EXPO_PUBLIC_REVENUECAT_API_KEY_ANDROID=your-android-key
```

**Important:** Variables must start with `EXPO_PUBLIC_` to be accessible in client code.

## Common Patterns

### Authentication Flow
```tsx
import { useAuth } from '@/lib/hooks/useAuth';

const { user, loading, signIn, signUp, signOut } = useAuth();

// Check auth state
if (loading) return <Loading />;
if (!user) return <SignInScreen />;

// Sign in
await signIn(email, password);

// Sign up
await signUp(email, password);
```

### Data Fetching
```tsx
import { useProfile } from '@/lib/hooks/useData';

const { data, isLoading, error } = useProfile(userId);
```

### Subscriptions
```tsx
import { useSubscription } from '@/lib/hooks/useSubscription';

const { isPro, offerings, purchasePackage } = useSubscription();
```

## Important Notes for LLMs

1. **Always use official Expo install commands:** `npx expo install <package>`
2. **Never hardcode colors:** Use `className="bg-primary-500"` or `colors.primary[500]`
3. **Separation of concerns:** UI in `/app`, logic in `/lib`
4. **TypeScript strict mode:** All code must be properly typed
5. **Path aliases:** Import with `@/` instead of relative paths
6. **Design tokens:** All colors/spacing in `tailwind.config.js`
7. **React Query for server state:** Don't put API data in Zustand
8. **Reanimated for animations:** Don't use old Animated API

## Common Issues

**Metro bundler errors:** Run `npx expo start --clear`
**TypeScript errors:** Run `npx tsc --noEmit`
**NativeWind not working:** Check global.css is imported in app/_layout.tsx
**Supabase errors:** Check .env file has EXPO_PUBLIC_ prefix

## Documentation

Full documentation in `/docs/`:
- 01-getting-started.md
- 02-project-structure.md
- 03-design-system.md
- 04-components.md
- 05-animations.md
- 06-supabase-setup.md
- 07-revenuecat-setup.md

## Version Info

- Expo SDK: 54
- React Native: 0.81.5
- NativeWind: 4.2.1
- Tailwind CSS: 3.4.17
- TypeScript: 5.x
- Node.js: 18+

## License

MIT - Free for personal and commercial use
